<!-- dcterms:identifier = aspnetcz#87 -->
<!-- dcterms:title = Jak přidat vyhledávání na stránkách do IE 7.0 -->
<!-- dcterms:abstract = Pokud používáte aktuální beta verzi Internet Exploreru 7.0, možná jste si všimli, že vám při příchodu na tento web šipka vedle vyhldávacího políčka změnila barvu na oranžovou a v seznamu vyhledávačů se objevil web ASPNET.CZ. Jak tedy přidat vlastní vyhledávání do IE? -->
<!-- np9:categoryId = 1 -->
<!-- x4w:category = IT -->
<!-- np9:authorId = 1 -->
<!-- np9:authorEmail = michal.valasek@altairis.cz -->
<!-- dcterms:creator = Michal Altair Valášek -->
<!-- dcterms:created = 2006-04-14T03:50:12.27+02:00 -->
<!-- dcterms:date = 2006-04-14T03:50:12.27+02:00 -->

<p><img width="224" height="176" style="FLOAT: right; MARGIN-LEFT: 1ex" alt="Screenshot" src="https://www.cdn.altairis.cz/Blog/2006/20060414-opensearch.png">Pokud používáte aktuální beta verzi Internet Exploreru 7.0, možná jste si všimli, že vám při příchodu na tento web šipka vedle vyhldávacího políčka změnila barvu na oranžovou a v seznamu vyhledávačů se objevil web ASPNET.CZ. </p><p>Jak tedy přidat vlastní vyhledávání do IE? Celá operace má dvě části (předpokládáme-li, že už na webu máte funkční vyhledávání). Musíte vytvořit dokument v XML formátu OpenSearch a pak do hlavičky stránky přidat odkaz na něj.</p><h2>Technologie OpenSearch</h2><p><a href="http://opensearch.a9.com/">OpenSearch</a> je otevřený standard pro komunikaci vyhledávačů, vytvořený společností Amazon. Pro tento účel nás z něj zajímá pouze malá část, specifikující adesu na níž lze zadat požadavek na vyhledávání. Jedná se o jednoduchý XML dokument, který obsahuje název webu, popis webu a adresu pro vyhledávání. Pro ASPNET.CZ vypadá takto:</p><div style="FONT-SIZE: 11pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: Consolas, Courier New, monospace"><p style="MARGIN: 0px"><span style="COLOR: blue">&lt;?</span><span style="COLOR: #a31515">xml</span><span style="COLOR: blue"> </span><span style="COLOR: red">version</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">1.0</span>"<span style="COLOR: blue"> </span><span style="COLOR: red">encoding</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">utf-8</span>"<span style="COLOR: blue"> ?></span></p><p style="MARGIN: 0px"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">OpenSearchDescription</span><span style="COLOR: blue"> </span><span style="COLOR: red">xmlns</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">http://a9.com/-/spec/opensearch/1.1/</span>"<span style="COLOR: blue">></span></p><p style="MARGIN: 0px"><span style="COLOR: blue">  &lt;</span><span style="COLOR: #a31515">ShortName</span><span style="COLOR: blue">></span>ASPNET.CZ (fulltext)<span style="COLOR: blue">&lt;/</span><span style="COLOR: #a31515">ShortName</span><span style="COLOR: blue">></span></p><p style="MARGIN: 0px"><span style="COLOR: blue">  &lt;</span><span style="COLOR: #a31515">Description</span><span style="COLOR: blue">></span>Všechno co jste kdy chtěli vědět o ASP.NET a neměli se na to koho zeptat.<span style="COLOR: blue">&lt;/</span><span style="COLOR: #a31515">Description</span><span style="COLOR: blue">></span></p><p style="MARGIN: 0px"><span style="COLOR: blue">  &lt;</span><span style="COLOR: #a31515">Url</span><span style="COLOR: blue"> </span><span style="COLOR: red">type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">text/html</span>"<span style="COLOR: blue">></span>http://www.aspnet.cz/Search.aspx?Text={searchTerms}<span style="COLOR: blue">&lt;/</span><span style="COLOR: #a31515">Url</span><span style="COLOR: blue">></span></p><p style="MARGIN: 0px"><span style="COLOR: blue">&lt;/</span><span style="COLOR: #a31515">OpenSearchDescription</span><span style="COLOR: blue">></span></p></div><p>Tento dokument uložte někam na váš web. Můžete ho napsat staticky, mně ho generuje dynamicky redakční systém na adrese <a href="/AutoDiscovery.ashx?Type=OpenSearch">http://www.aspnet.cz/AutoDiscovery.ashx?Type=OpenSearch</a></p><h2>Odkaz v Internet Exploreru</h2><p>Aby prohlížeč tento dokument mohl využít, musí o něm vědět. K tomu slouží odkaz v hlavičce (sekci <em>head</em>) stránky. Přidejte do ní element <em>link</em> s následujícími parametry: </p><div style="FONT-SIZE: 11pt; BACKGROUND: white; COLOR: black; FONT-FAMILY: Consolas, Courier New, monospace"><p style="MARGIN: 0px"><span style="COLOR: blue">&lt;</span><span style="COLOR: #a31515">link</span><span style="COLOR: blue"> </span><span style="COLOR: red">rel</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">search</span>"<span style="COLOR: blue"> </span></p><p style="MARGIN: 0px"><span style="COLOR: blue">      </span><span style="COLOR: red">type</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">application/opensearchdescription+xml</span>"<span style="COLOR: blue"> </span></p><p style="MARGIN: 0px"><span style="COLOR: blue">      </span><span style="COLOR: red">xmlns</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">http://www.microsoft.com/MSCOM/MNP2/Schemas</span>"<span style="COLOR: blue"> </span></p><p style="MARGIN: 0px"><span style="COLOR: blue">      </span><span style="COLOR: red">href</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">http://www.aspnet.cz/AutoDiscovery.ashx?type=OpenSearch</span>"<span style="COLOR: blue"> </span></p><p style="MARGIN: 0px"><span style="COLOR: blue">      </span><span style="COLOR: red">title</span><span style="COLOR: blue">=</span>"<span style="COLOR: blue">ASPNET.CZ (fulltext)</span>"<span style="COLOR: blue"> /></span></p></div><p>Atributy <em>rel</em>, <em>type</em> a <em>xmlns</em> umožňují prohlížeči identifikovat, že se jedná o odkaz na dokument o vyhledávání. Atribut <em>href</em> obsahuje vlastní adresu specifikace. Tato adresa musí být kompletní absolutní URL, tedy včetně názvu serveru, nestačí napsat jenom cestu.</p><p>Pokud učiníte tyto dva kroky, bude Internet Explorer o všem vyhledávání vědět a nabídne výše uvedeným postupem uživatelům možnost, aby si váš web přidali mezi používané vyhledávače.</p>